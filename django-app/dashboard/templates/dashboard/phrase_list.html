
{% extends 'dashboard/blueprint_A.html' %}


{% load static %}
{% block styles %}
    <link rel="stylesheet" href="{% static 'css/phrase_list.css' %}">
{% endblock %}

{% block extraNavElements %}
    <span>
        <a href="{% url 'category_list' %}" class="navButton">&#8617; Back</a>
        <a href="{% url 'create_phrase' %}" class="navButton">Create a custom phrase</a>
    </span>
{% endblock %}

{% block content %}
<hr>
<div class="content flex-row">

    <div class="flex-column center-space-between content-left" >

        <div class="header-wrapper">
            <h2>Phrases to help with <br> <strong>{{ category.name }}</strong></h2>
            <!-- <h3>Reading and integrating these phrases might help you deal with {{ category.name }}</h3> -->
        </div>

        <div class="scroll-container-wrapper">
            <div class="scroll-container">
                {% for phrase in phrases %}
                    <div class="scroll-area">
                        <span>
                            <div class="phrase-image"></div>
                            <p class="phrase"> {{ phrase.content }}</p>
                            <hr>
                            <p class="author"> {{ phrase.author }}</p>
                        </span>
                    </div>
                {% endfor %}
            </div>
        </div>

    </div>

    <div class="vertical-separator"></div>

    <span class="flex-column center-space-between">

        <div class="comments-container flex-column center-space-between">

            <h2>Comments about <br> {{ category.name }} </h2>

            <!-- o for loop vai comeÃ§ar aqui -->
            {% for comment in comments %}
            <div class="comment-instance">
                <span class="comment-user-info-wrapper flex-row center-start" >
                    <div class="comment-user-profile-image"></div>
                    <p class="comment-username">{{ comment.author }}</p>
                </span>
                <p class="comment-text">{{ comment.content }}</p>
            </div>
            {% endfor %}
            <!-- fim do for loop -->

        </div>

        <span class="form-wrapper">

            <!-- a form vai ser inserida aqui -->

            <form method="POST" id="register-phrase-form" action="{% url 'add_comment' category.id %}">
                
                {% csrf_token %}
                
                {{ form.as_p }}

                <button type="submit" id="submit-button">Submit</button>
            </form>
            
            <!-- <form class="comment-input-form-wrapper flex-row center-space-between">
                <input class="comment-input" type="text" name="" id="" placeholder="Write a comment here">
                <input class="comment-submit" type="submit" value="Submit">
            </form> -->

            <!-- fim da form -->
             
        </span>

    </span>

    

    <!-- <span class="hero-img-wrapper"></span> -->

    
</div>

{% endblock %}

    

<h2>Frases na categoria: {{ category.name }}</h2>
<ul>
    {% for phrase in phrases %}
        <li>{{ phrase.content }} - {{ phrase.user.username }}</li>
    {% endfor %}
</ul>


